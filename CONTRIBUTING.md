# 贡献指南

感谢您对Xieyi智能手环项目的关注！我们欢迎任何形式的贡献，包括但不限于代码改进、文档完善、问题反馈和功能建议。

## 如何贡献

### 🐛 报告问题 (Bug Reports)

如果您发现了bug，请按以下步骤报告：

1. **搜索现有问题** - 首先查看是否已有人报告了相同问题
2. **创建新Issue** - 如果没有找到相关问题，请创建新Issue
3. **提供详细信息** - 包含以下内容：
   - 问题的详细描述
   - 复现步骤
   - 预期行为 vs 实际行为
   - 开发环境信息
   - 相关截图或错误日志

**Issue模板示例**:
```
### 问题描述
简要描述遇到的问题

### 复现步骤
1. 进入...
2. 点击...
3. 滚动到...
4. 看到错误

### 预期行为
描述您期望发生的情况

### 实际行为
描述实际发生的情况

### 环境信息
- 硬件版本: v1.0
- 软件版本: v1.0.0
- 编译环境: Keil uVision5
- 操作系统: Windows 10

### 附加信息
添加任何其他有助于解决问题的信息
```

### 💡 功能请求 (Feature Requests)

如果您有新功能建议：

1. **检查现有功能** - 确认功能尚未实现
2. **创建Feature Request** - 描述您的需求
3. **说明用例** - 解释为什么需要这个功能
4. **提供设计思路** - 如果有的话，分享您的实现想法

### 🔧 代码贡献

#### 开发环境搭建
1. Fork本仓库到您的GitHub账号
2. Clone您的Fork到本地
3. 设置开发环境（参考DEVELOPMENT.md）
4. 创建新分支进行开发

#### 代码规范
请遵循以下编码规范：

**C语言规范**:
```c
// 函数命名: 小写字母+下划线
void sensor_init(void);

// 变量命名: 小写字母+下划线
uint32_t sensor_data;

// 宏定义: 大写字母+下划线
#define MAX_BUFFER_SIZE 256

// 结构体: 首字母大写驼峰
typedef struct {
    int heart_rate;
    float spo2;
} SensorData;

// 函数注释格式
/**
 * @brief  函数功能简要描述
 * @param  param1 参数1说明
 * @param  param2 参数2说明
 * @retval 返回值说明
 * @note   重要注意事项
 * @author Xieyi
 */
```

**提交信息格式**:
```
类型(范围): 简短描述

详细描述（可选）

关联Issue: #123
```

**类型说明**:
- `feat`: 新功能
- `fix`: Bug修复
- `docs`: 文档更新
- `style`: 代码格式化
- `refactor`: 代码重构
- `test`: 测试相关
- `chore`: 构建过程或辅助工具的变动

**示例**:
```
feat(sensor): 添加MPU6050陀螺仪支持

- 新增MPU6050驱动文件
- 实现IIC通信功能
- 添加角度计算算法
- 更新主程序集成代码

关联Issue: #45
```

#### Pull Request流程

1. **创建分支**
   ```bash
   git checkout -b feature/new-sensor-support
   ```

2. **开发并测试**
   - 编写代码
   - 添加必要的注释
   - 进行本地测试
   - 确保编译通过

3. **提交代码**
   ```bash
   git add .
   git commit -m "feat(sensor): 添加新传感器支持"
   git push origin feature/new-sensor-support
   ```

4. **创建Pull Request**
   - 在GitHub上创建PR
   - 填写PR模板
   - 等待代码审查

**PR模板**:
```
### 变更说明
描述您在此PR中所做的更改

### 变更类型
- [ ] Bug修复
- [ ] 新功能
- [ ] 代码重构
- [ ] 文档更新
- [ ] 性能优化

### 测试
- [ ] 已在硬件上测试
- [ ] 编译通过无警告
- [ ] 功能测试正常

### 截图（如适用）
添加截图帮助说明您的更改

### 相关Issue
关联 #(issue编号)
```

#### 代码审查

所有PR都将经过代码审查：

1. **自动检查**
   - 编译检查
   - 代码格式检查
   - 基本功能测试

2. **人工审查**
   - 代码质量
   - 设计合理性
   - 安全性检查
   - 文档完整性

3. **修改反馈**
   - 根据审查意见修改代码
   - 更新PR并通知审查者
   - 重复直到审查通过

### 📚 文档贡献

文档同样重要！您可以：

1. **改进现有文档** - 修正错误、补充说明
2. **添加新文档** - 教程、FAQ、最佳实践
3. **翻译文档** - 多语言支持
4. **改进注释** - 让代码更易理解

### 🧪 测试贡献

帮助提高项目质量：

1. **单元测试** - 为新功能编写测试
2. **集成测试** - 测试模块间交互
3. **硬件测试** - 在实际硬件上验证
4. **性能测试** - 功耗、响应时间等

## 开发流程

### 分支策略
- `main`: 稳定发布版本
- `develop`: 开发版本
- `feature/*`: 功能开发分支
- `hotfix/*`: 紧急修复分支

### 发布流程
1. 开发完成 → 合并到develop
2. 测试验证 → 准备发布
3. 创建release分支 → 最终测试
4. 合并到main → 发布新版本

## 社区准则

### 行为准则
- **尊重他人** - 友善、专业的交流
- **包容性** - 欢迎不同背景的贡献者
- **建设性** - 提供有建设性的反馈
- **耐心** - 对新手保持耐心

### 沟通渠道
- **GitHub Issues** - 问题报告和功能请求
- **GitHub Discussions** - 技术讨论
- **代码评论** - PR中的技术交流

## 资源链接

### 技术文档
- [开发文档](DEVELOPMENT.md)
- [硬件文档](HARDWARE.md)
- [API参考](docs/API.md)

### 工具和环境
- [Keil uVision5](https://www.keil.com/)
- [STM32CubeMX](https://www.st.com/en/development-tools/stm32cubemx.html)
- [Git教程](https://git-scm.com/docs)

### 学习资源
- [STM32参考手册](https://www.st.com/)
- [C语言编程规范](https://github.com/isocpp/CppCoreGuidelines)
- [嵌入式开发最佳实践](https://embeddedartistry.com/)

## 致谢

感谢所有为项目做出贡献的开发者！您的贡献让这个项目变得更好。

### 贡献者名单
- **Xieyi** - 项目创始人和主要维护者

## 许可证

通过向此项目贡献代码，您同意您的贡献将在[MIT License](LICENSE)下进行许可。

## 联系方式

如有任何疑问，请：
1. 在相应Issue中留言
2. 创建新的Discussion
3. 通过GitHub私信联系维护者

---

再次感谢您的贡献！让我们一起打造更好的智能手环项目！

**维护者**: Xieyi  
**最后更新**: 2025-06-25
